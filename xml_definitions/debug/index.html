<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">

	<title>Debug - Snom io Knowledge base</title>

        <link href="../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-1331074-26', 'auto');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">Snom io Knowledge base</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">XML Minibrowser <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            
<li >
    <a href="../../xml_minibrowser/">Introduction</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../../xml_minibrowser/">Introduction</a>
                        </li>
                        -->
                    
                        
                            
    <li class="dropdown-submenu">
    <a>Main tags</a>
    <ul class="dropdown-menu">
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneMenu/">SnomIPPhoneMenu</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneDirectory/">SnomIPPhoneDirectory</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneText/">SnomIPPhoneText</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneImage/">SnomIPPhoneImage</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneImageFile/">SnomIPPhoneImageFile</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneInput/">SnomIPPhoneInput</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/SnomIPPhoneBatch/">SnomIPPhoneBatch</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/main_sub_tags/">Main Sub Tags</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/main_tags/MainAttributes/">Main Attributes</a>
</li>

            
        
    </ul>
  </li>

                        
                        <!-- ORIG
                        <li >
                            <a href="">Main tags</a>
                        </li>
                        -->
                    
                        
                            
    <li class="dropdown-submenu">
    <a>Callbacks</a>
    <ul class="dropdown-menu">
        
            
                
<li >
    <a href="../../xml_minibrowser/callbacks/">Introduction</a>
</li>

            
        
            
        
    </ul>
  </li>

                        
                        <!-- ORIG
                        <li >
                            <a href="">Callbacks</a>
                        </li>
                        -->
                    
                        
                            
    <li class="dropdown-submenu">
    <a>Fragments</a>
    <ul class="dropdown-menu">
        
            
                
<li >
    <a href="../../xml_minibrowser/fragments/">Introduction</a>
</li>

            
        
            
        
    </ul>
  </li>

                        
                        <!-- ORIG
                        <li >
                            <a href="">Fragments</a>
                        </li>
                        -->
                    
                        
                            
<li >
    <a href="../../xml_minibrowser/templates/">Builtin Templates</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../../xml_minibrowser/templates/">Builtin Templates</a>
                        </li>
                        -->
                    
                        
                            
    <li class="dropdown-submenu">
    <a>Examples</a>
    <ul class="dropdown-menu">
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/">Introduction</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneText/">SnomIPPhoneText</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneMenu/">SnomIPPhoneMenu</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/InputField/">InputField</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneDirectory/">SnomIPPhoneDirectory</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneInput/">SnomIPPhoneInput</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneImage/">SnomIPPhoneImage</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneImageFile/">SnomIPPhoneImageFile</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/SnomIPPhoneBatch/">SnomIPPhoneBatch</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/main_subelements/">Main sub elements</a>
</li>

            
        
            
                
<li >
    <a href="../../xml_minibrowser/examples/main_elements_attributes/">Main elements attributes</a>
</li>

            
        
    </ul>
  </li>

                        
                        <!-- ORIG
                        <li >
                            <a href="">Examples</a>
                        </li>
                        -->
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">XML Definitions <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            
<li >
    <a href="../">XML Definitions</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../">XML Definitions</a>
                        </li>
                        -->
                    
                        
                            
<li >
    <a href="../functions/">Functions</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../functions/">Functions</a>
                        </li>
                        -->
                    
                        
                            
<li >
    <a href="../replacement_plan/">Replacement plan</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../replacement_plan/">Replacement plan</a>
                        </li>
                        -->
                    
                        
                            
<li class="active">
    <a href="./">Debug</a>
</li>

                        
                        <!-- ORIG
                        <li class="active">
                            <a href="./">Debug</a>
                        </li>
                        -->
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Awesome Snom io <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
                            
<li >
    <a href="../../awesome/list/">The Awesome list</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../../awesome/list/">The Awesome list</a>
                        </li>
                        -->
                    
                        
                            
<li >
    <a href="../../awesome/howto-contribute/">How-to contribute</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../../awesome/howto-contribute/">How-to contribute</a>
                        </li>
                        -->
                    
                        
                            
<li >
    <a href="../../awesome/about/">About</a>
</li>

                        
                        <!-- ORIG
                        <li >
                            <a href="../../awesome/about/">About</a>
                        </li>
                        -->
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../replacement_plan/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../../awesome/list/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/Snomio/Documentation">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>
                <div class="container">
            <ol class="breadcrumb">
                
                    
                        
                            
                                <li>XML Definitions &raquo;</li>
                            
                        
                    

                    <li>Debug</li>
                
            </ol>
        </div>

        <div class="container">
            
                <div class="col-md-3">
                    <div class="bs-sidebar hidden-print affix well" role="complementary">
                            
                        <ul class="nav bs-sidenav">
                                    
            <li class="level1 active"><a href="#debugging">Debugging</a></li>
            
                <li class="level2"><a href="#syntax_check_xml_definition_code">Syntax check XML Definition Code</a></li>
            
                <li class="level2"><a href="#execution_check">Execution check</a></li>
            
                <li class="level2"><a href="#variable_check">Variable check</a></li>
            
        
                        </ul>
                    </div>
                </div>
            

            
                <div class="col-md-9" role="main">

<h1 id="debugging">Debugging<a class="headerlink" href="#debugging" title="Permanent link"> #</a></h1>
<p>Very often it is required to debug the XML Definition Code to check why is something not working or to understand how something works for better development of the Code. There are a few ways to debug XML Definition Code.</p>
<h2 id="syntax_check_xml_definition_code">Syntax check XML Definition Code<a class="headerlink" href="#syntax_check_xml_definition_code" title="Permanent link"> #</a></h2>
<p>The best way to check if your XML Definition Code has Syntax issues is by downloading the phone settings after the Code has been inserted onto the phone. </p>
<p>The parts of our XML Definition Code where a Syntax error exists will not be saved on the phone.</p>
<p>I would suggest using the Plain text Settings, because it is easier to read the XML Definition code without the regular XML Settings. </p>
<h2 id="execution_check">Execution check<a class="headerlink" href="#execution_check" title="Permanent link"> #</a></h2>
<p>To see if a part of you Code has been executed (mostly the action elements), you will find them in the Phone Regular Logs from Level 7+.  Below an example of a Setting Toggle XML Definition Code:</p>
<pre class="code"><code>Apr  2 18:30:58  [DEBUG2] PHN: gui_object::OnKey(P1, 1), State Idle (29)
Apr  2 18:30:58  [DEBUG0] PHN: ReplaceQueryVariables in &gt;http://localhost:80/settings.htm?settings=save&amp;privacy_out=off&lt;
Apr  2 18:30:58  [DEBUG0] PHN: ReplaceQueryVariables replaced: &gt;http://localhost:80/settings.htm?settings=save&amp;privacy_out=off&lt;
Apr  2 18:30:58  [NOTICE] PHN: Sending post request http://localhost:80/settings.htm?settings=save&amp;privacy_out=off
Apr  2 18:30:58  [NOTICE] PHN: Fetching URL: http://:...@localhost:80/settings.htm?...
Apr  2 18:30:58  [DEBUG2] WEBCLIENT: Send TCP none
Apr  2 18:30:58  [DEBUG2] WEBCLIENT: Socket 386 dns_resolving
Apr  2 18:30:58  [DEBUG2] PHN: TMR: setting up  'gui_state.cpp (792): [static void gui_object::DisplayStateCbAtNextLoop(void*, void*)]' 0x40879274 to fire periodically every 250 ms 
Apr  2 18:30:58  [DEBUG1] DNS: Add Cache: localhost.snom.com= (ttl=60, type=7)
Apr  2 18:30:58  [DEBUG0] DNS: AddrInfo for 'localhost.snom.com' invalid, error: Name or service not known (-2)
Apr  2 18:30:58  [WARN  ] PHN: Could not resolve host &gt;localhost&lt;
Apr  2 18:30:58  [DEBUG2] WEBCLIENT: Socket 386 dns_resolve_cache_lookup_has_failed
Apr  2 18:30:58  [WARN  ] WEBCLIENT: Could not resolve host localhost
Apr  2 18:30:58  [DEBUG2] WEBCLIENT: Socket 386 disconnected
Apr  2 18:30:58  [DEBUG2] WEBCLIENT: Socket 386 deleted
Apr  2 18:30:58  [NOTICE] PHN: Server rejected Action URL request with 400 &gt;&lt;</code></pre>


<p>You may see here that "localhost" could not be resolved by our DNS server and that is why my Toggle is not working.</p>
<h2 id="variable_check">Variable check<a class="headerlink" href="#variable_check" title="Permanent link"> #</a></h2>
<p>It might be useful to know which value or what variables have been used/set in the code. To do that we are going to open the following URL in our Browsers: http://PHONE_IP/xml_entities.htm</p>
<p>There we will find all the xml_entities split into categories of button and setting types:</p>
<ul>
<li><strong>LineKey</strong> are the Free programmable Function keys</li>
<li><strong>ContextKey</strong> are the 4 keys below the Display</li>
<li><strong>NaviKey</strong> the navigation keys</li>
<li><strong>HardKey</strong> are the hardcoded keys like <em>dnd, directory, menu, transfer, etc</em></li>
<li><strong>SpringboardKey</strong> are available only on snom 870 phones and are the Virtual Keys in idle</li>
<li><strong>GeneralPurposeXml</strong> are the <strong>general_purpose_xml_descriptions</strong> settings on the phone</li>
<li><strong>XmlsForEventListUri</strong> are the <strong>user_event_list_uri</strong> settings on the phone
By selecting a category you will get a list of index for that button or setting, each of them can contain a XML Definition Code.</li>
</ul>
<p>Here is an example of our XML Definition Code from <strong>Extension Monitoring</strong> example the 4th part:</p>
<pre class="code"><code>#type:  BusyLampField
#state:     free
#variables:
  call_id = 313339363334363736333230373839-axkw6vc64k0g
  identity = 1
  local_tag = 9th5orwan7
  remote_name = 2902
  remote_tag = lhbva8lq73
  remote_uri = sip:547@10.110.100.110:3072;line=wxecg2hg
  state_save = free
  subscr_uri = sip:548@pbx.local
  transfer_id = -15
#arrays:</code></pre>


<p>Here we see all the values of our XML Definition Variables we defined in the code.</p></div>
            
        </div>

    <footer class="col-md-12">
        <hr>
        
        <center>Copyright © 2016 Snom Technology AG. All rights reserved.</center>
        
    </footer>


        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>